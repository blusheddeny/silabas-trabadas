<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Tiras Deslizantes</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4f8;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
        }

        .instructions {
            background-color: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 500px;
            text-align: center;
            margin-bottom: 20px;
            color: #555;
        }

        /* El contenedor principal del "juguete" fÃ­sico */
        .game-board {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            background-color: #eecda3; /* Color cartÃ³n */
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 4px solid #d4a373;
            position: relative;
        }

        /* La tarjeta fija (donde va la BR, PL...) */
        .fixed-card {
            background-color: white;
            width: 120px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: flex-end; /* Alineado a la derecha para pegar con la tira */
            padding-right: 10px;
            font-size: 80px;
            font-weight: bold;
            color: #e63946;
            border-radius: 10px 0 0 10px;
            border: 3px solid #333;
            border-right: none;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }

        /* El marco de la ventana deslizante */
        .slider-window-frame {
            width: 100px;
            height: 150px;
            overflow: hidden; /* Esto es clave: oculta lo que no estÃ¡ en el centro */
            background-color: white;
            border: 3px solid #333;
            border-left: none;
            border-radius: 0 10px 10px 0;
            position: relative;
        }

        /* La tira larga que se mueve */
        .sliding-strip {
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .vowel {
            height: 150px; /* Misma altura que la ventana */
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            font-weight: bold;
            color: #1d3557;
        }

        /* Controles */
        .controls {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 24px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 50px;
            background-color: #457b9d;
            color: white;
            box-shadow: 0 4px 0 #1d3557;
            transition: transform 0.1s;
        }

        button:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        button.secondary {
            background-color: #e63946;
            box-shadow: 0 4px 0 #9d0208;
        }

        .visual-cue {
            position: absolute;
            top: -40px;
            background: #ffddd2;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #e63946;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

    </style>
</head>
<body>

    <h1>ðŸ§© Tiras Deslizantes</h1>
    
    <div class="instructions">
        <p><strong>Instrucciones:</strong> Usa los botones de FLECHA para mover la tira. Mientras se desliza, intenta pronunciar el sonido largo (ej: <em>"Brrr... aaa... Â¡BRA!"</em>).</p>
    </div>

    <div class="game-board">
        <div class="visual-cue">Â¡Lee en voz alta!</div>
        
        <div class="fixed-card" id="consonant-display">BR</div>
        
        <div class="slider-window-frame">
            <div class="sliding-strip" id="strip">
                </div>
        </div>
    </div>

    <div class="controls">
        <button class="secondary" onclick="changeConsonant()">cambiar letra (âŸ³)</button>
        <button onclick="moveStrip(-1)">â¬† Subir Tira</button>
        <button onclick="moveStrip(1)">â¬‡ Bajar Tira</button>
    </div>

    <script>
        // ConfiguraciÃ³n del juego
        const consonants = ["BR", "PL", "CR", "DR", "BL", "FL", "TR"];
        const endings = ["a", "e", "i", "o", "u", "an", "on", "ero"];
        
        let currentConsonantIndex = 0;
        let currentStripIndex = 0;
        
        const stripElement = document.getElementById('strip');
        const consonantDisplay = document.getElementById('consonant-display');

        // Inicializar el juego
        function initGame() {
            // Generar la tira de vocales/terminaciones
            stripElement.innerHTML = "";
            endings.forEach(text => {
                const div = document.createElement('div');
                div.className = 'vowel';
                div.innerText = text;
                stripElement.appendChild(div);
            });
            updateStripPosition();
        }

        // Mover la tira
        function moveStrip(direction) {
            const maxIndex = endings.length - 1;
            
            currentStripIndex += direction;

            // LÃ­mites para que no se salga
            if (currentStripIndex < 0) currentStripIndex = 0;
            if (currentStripIndex > maxIndex) currentStripIndex = maxIndex;

            updateStripPosition();
        }

        // Actualizar la posiciÃ³n visual (CSS Transform)
        function updateStripPosition() {
            // Cada celda mide 150px de alto
            const offset = -(currentStripIndex * 150); 
            stripElement.style.transform = `translateY(${offset}px)`;
        }

        // Cambiar el grupo consonÃ¡ntico
        function changeConsonant() {
            currentConsonantIndex++;
            if (currentConsonantIndex >= consonants.length) {
                currentConsonantIndex = 0;
            }
            
            // Efecto visual simple de cambio
            consonantDisplay.style.opacity = 0;
            setTimeout(() => {
                consonantDisplay.innerText = consonants[currentConsonantIndex];
                consonantDisplay.style.opacity = 1;
            }, 200);
        }

        // Soporte para teclado (Flechas)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowUp') moveStrip(-1);
            if (e.key === 'ArrowDown') moveStrip(1);
        });

        // Arrancar
        initGame();

    </script>
</body>
</html>
